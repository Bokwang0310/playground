# 함수형 프로그래밍

함수형 프로그래밍은 객체지향 프로그래밍과 마찬가지로 프로그래밍 패러다임의 한 종류입니다.

객체 지향 프로그래밍이라는 패러다임에 캡슐화, 상속, 다형성과 같은 특징들이 있었던 것 처럼 함수형 프로그래밍도 마찬가지로 특징들이 있습니다.

- 선언형
- 일급 함수
- 순수 함수 (참조 투명성)
- 불변
- ...

특징이 많지만 이번에는 이 4가지에 대해서 알아보도록 하겠습니다.

## 선언형

> 함수형 프로그래밍은 `어떻게(How)` 해야 할 지를 기술하는 방식이 아니라 `무엇을(What)` 할 지를 기술하는 방식이다.

선언형 프로그래밍은 독립적인 하나의 패러다임으로 볼 수 있어서 외부 파일로 분리 했습니다.

[선언형 vs 명령형]("./Declarative.md")

## 일급 함수 (일급 객체로서의 함수)

함수형 프로그래밍 언어에서 함수는 일급 객체입니다.

일급 객체란 다음 3가지 조건을 만족시키는 것입니다.

- 변수에 할당 가능해야 한다.
- 함수의 인자로 사용될 수 있어야 한다.
- 함수의 반환값으로 사용될 수 있어야 한다.

위 3가지 조건을 한 문장으로 정리한다면 다음과 같습니다.

> 함수도 값이다.

함수가 값이기 때문에 변수에 할당할 수도, 함수의 인자로 넘길 수도, 함수가 반환할 수도 있는 것이죠.

자바스크립트는 이 3가지 조건을 다 지원하기 때문에 자바스크립트에서의 함수는 일급 객체라고 볼 수 있습니다.

```js
// 함수를 변수에 할당한다
const add = (a, b) => a + b;

// 함수의 인자로 함수를 넘긴다
const stopInterval = setInterval(() => console.log("1초가 지났어!"), 1000);

stopInterval(); // 함수의 반환값으로 함수를 받는다
```

### 일급 함수가 가지는 의미

함수형 프로그래밍은 그 이름에서도 알 수 있다싶이 함수의 나열로 프로그래밍하는 것입니다. 그렇기 때문에 함수에서의 추상화 ... (작성 중)

## 순수 함수 (참조 투명성)

순수 함수라는 말은 말 그대로 함수가 순수하다는 뜻입니다. 함수가 순수하다는 것은 무엇일까요? 코드를 봅시다.

```js
const pureAdd = (a, b) => a + b;

let data = 10;
const impureAdd = (a) => a + data;
```

`pureAdd` 함수는 함수의 매개변수 외에는 아무것도 참조하지 않기 때문에 같은 인자에 대해 항상 같은 함숫값을 보장해줍니다.

```js
console.log(pureAdd(1, 2)); // 3
console.log(pureAdd(1, 2)); // 3
console.log(pureAdd(1, 2)); // 3
```

하지만 `impureAdd`는 매개변수 외에 함수 바깥에 있는 값을 참조하고 있기 때문에 함수의 인자로 같은 값을 넣더라도 계속해서 같은 값을 기대할 수 없습니다.

```js
console.log(impureAdd(1)); // 11
data = 1212;
console.log(impureAdd(1)); // 1213
data = "critical!";
console.log(impureAdd(1)); // "critical!1"
```

함수의 매개 변수 만을 참조하더라도 다음과 같은 상황은 순수 함수가 아닙니다.

```js
function impureAdd2(a, b) {
  console.log("Can I log anything?");
  return a + b;
}

console.log(impureAdd2(1, 2)); // 3
console.log(impureAdd2(1, 2)); // 3
console.log(impureAdd2(1, 2)); // 3
```

> ✋ 저기요, 동일 인자에 동일 값을 반환하는데요?

함수가 순수하다는 말은 단순히 매개 변수에만 의존하여 동일한 함숫값을 낸다는 것 뿐만이 아니라 `외부 세계에 영향을 주지 않는/받지 않는 함수`라는 뜻입니다.

위 예제에서는 `console.log`를 통해 외부 세계에 영향을 주기 때문에 순수하다고 볼 수 없습니다.

> ✋✋ 저기요, 그럼 외부 세계에 영향을 주지 않는 프로그램만 만들라는 건가요?
